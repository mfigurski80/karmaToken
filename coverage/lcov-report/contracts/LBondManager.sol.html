<!DOCTYPE html><html lang="en"><head>
    <title>Code coverage report for contracts/LBondManager.sol</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>.coverage-summary .sorter{background-image:url(../sort-arrow-sprite.png)}
</style>
</head>
<body>
<div class="wrapper">
  <div class="pad1">
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> LBondManager.sol
    </h1>
    <div class="clearfix">
      <div class="fl pad1y space-right2">
        <span class="strong">66.67% </span>
        <span class="quiet">Statements</span>
        <span class="fraction">70/105</span>
      </div>
      <div class="fl pad1y space-right2">
        <span class="strong">50% </span>
        <span class="quiet">Branches</span>
        <span class="fraction">24/48</span>
      </div>
      <div class="fl pad1y space-right2">
        <span class="strong">78.95% </span>
        <span class="quiet">Functions</span>
        <span class="fraction">15/19</span>
      </div>
      <div class="fl pad1y space-right2">
        <span class="strong">72.92% </span>
        <span class="quiet">Lines</span>
        <span class="fraction">70/96</span>
      </div>
    </div>
  </div>
  <div class="status-line medium"></div>
<pre><table class="coverage">
<tbody><tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;
&nbsp;
struct Bond {
    bool flag;
    uint32 currencyRef;
    uint16 nPeriods;
    uint16 curPeriod;
    uint64 startTime;
    uint64 periodDuration;
    uint256 couponSize;
    uint256 faceValue;
    address beneficiary;
    address minter;
}
&nbsp;
/**
 * @title 🗜️ Library containing utils for reading and writing bonds
 * @notice Bonds are bit-compressed in storage -- must be read by
 * this library
 */
library LBondManager {
    /**
     * @dev describes the 7-bit format id that LBondManager accepts
     */
    function supportedFormat() public pure returns (uint8) {
        return 0;
    }
&nbsp;
    /* ###################
     *    READING DATA
     * ################### */
&nbsp;
    // READING ALPHA SLOT
&nbsp;
    function readFormatAndFlag(bytes32 alp)
        public
        pure
        returns (uint8 format, bool flag)
    {
        // read format + flag (8 bits)
        bytes1 packedFormatFlag = bytes1(alp);
        format = uint8(packedFormatFlag &gt;&gt; 1); // get first 7 bits
        <span class="missing-if-branch" title="else path not taken">E</span>require(format == supportedFormat(), "Library: unsupported format");
        flag = uint8(packedFormatFlag &amp; 0x01) == 1; // get last bit
    }
&nbsp;
    function readCouponSize(bytes32 alp)
        public
        pure
        returns (uint256 couponSize)
    {
        // read mult + coupon size (32 bits)
        bytes4 couponData = bytes4(alp &lt;&lt; 8); // skip 8 bits, get 32 bits
        uint8 couponMult = uint8(bytes1(couponData)) &gt;&gt; 6; // get first 2 bits
        couponSize = uint32(couponData) &amp; 0x3F;
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponMult == 1) <span class="cstat-no" title="statement not covered">couponSize *= 1 gwei</span>;
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponMult == 2) <span class="cstat-no" title="statement not covered">couponSize *= 1 ether / 1000</span>;
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponMult == 3) <span class="cstat-no" title="statement not covered">couponSize *= 1 ether</span>;
    }
&nbsp;
    function readPeriodData(bytes32 alp)
        public
        pure
        returns (uint16 nPeriods, uint16 curPeriod)
    {
        // read nPeriods (16 bits)
        nPeriods = uint16(bytes2(alp &lt;&lt; (8 + 32)));
        // read curPeriod (16 bits)
        curPeriod = uint16(bytes2(alp &lt;&lt; (8 + 32 + 16)));
    }
&nbsp;
    function readCurrency(bytes32 alp) public pure returns (uint32 currency) {
        // read currency (24 bits)
        return uint32(bytes4(bytes3(alp &lt;&lt; (8 + 32 + 16 + 16))) &gt;&gt; 8);
    }
&nbsp;
    function readBeneficiary(bytes32 alp)
        public
        pure
        returns (address beneficiary)
    {
        // read beneficiary (160 bits, 20 bytes)
        return address(bytes20(alp &lt;&lt; (8 + 32 + 16 + 16 + 24)));
    }
&nbsp;
    // READING BETA SLOT
&nbsp;
    function readFaceValue(bytes32 bet)
        public
        pure
        returns (uint256 faceValue)
    {
        // read face value (32 bits, 4 bytes)
        bytes4 valueData = bytes4(bet);
        uint8 valueMult = uint8(bytes1(bet)) &gt;&gt; 6; // get first two bits
        faceValue = uint32(valueData) &amp; 0x3FFFFFFF; // clear first two bits
        <span class="missing-if-branch" title="if path not taken">I</span>if (valueMult == 1) <span class="cstat-no" title="statement not covered">faceValue *= 1 gwei</span>;
        <span class="missing-if-branch" title="if path not taken">I</span>if (valueMult == 2) <span class="cstat-no" title="statement not covered">faceValue *= 1 ether / 1000</span>;
        <span class="missing-if-branch" title="if path not taken">I</span>if (valueMult == 3) <span class="cstat-no" title="statement not covered">faceValue *= 1 ether</span>;
    }
&nbsp;
    function readStartTime(bytes32 bet) public pure returns (uint64 startTime) {
        // read start time (48 bits, 6 bytes)
        return uint64(bytes8(bytes6(bet &lt;&lt; (32))) &gt;&gt; 16); // skip face value 32 bits
    }
&nbsp;
    function readPeriodDuration(bytes32 bet)
        public
        pure
        returns (uint64 periodDuration)
    {
        // read period duration (16 bits, 2 bytes)
        // 2 bits for multiplier
        bytes2 durationData = bytes2(bet &lt;&lt; (32 + 48)); // skip face value and start time
        uint8 durationMult = uint8(bytes1(durationData)) &gt;&gt; 6; // get first two bits
        periodDuration = uint16(durationData) &amp; 0x3FFF; // clear first two bits
        <span class="missing-if-branch" title="if path not taken">I</span>if (durationMult == 1) <span class="cstat-no" title="statement not covered">periodDuration *= 60</span>; // in minutes?
        <span class="missing-if-branch" title="if path not taken">I</span>if (durationMult == 2) <span class="cstat-no" title="statement not covered">periodDuration *= 60 * 60</span>; // in hours?
        <span class="missing-if-branch" title="if path not taken">I</span>if (durationMult == 3) <span class="cstat-no" title="statement not covered">periodDuration *= 60 * 60 * 24</span>; // in days?
    }
&nbsp;
    function readMinter(bytes32 bet) public pure returns (address minter) {
        return address(bytes20(bet &lt;&lt; (32 + 48 + 16)));
    }
&nbsp;
    /* ###################
     *    WRITING DATA
     * ################### */
&nbsp;
    // WRITING ALPHA SLOT
&nbsp;
<span class="fstat-no" title="function not covered">    function writeFlag(bytes32 alp, bool flag) public pure returns (bytes32) {</span>
<span class="cstat-no" title="statement not covered">        alp &amp;= 0xFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</span>; // clear flag bit
<span class="cstat-no" title="statement not covered">        return alp | bytes32(bytes1(flag ? 1 : 0));</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered">    function writeCurPeriod(bytes32 alp, uint16 curPeriod)</span>
        public
        pure
        returns (bytes32)
    {
<span class="cstat-no" title="statement not covered">        alp &amp;= 0xFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF</span>;
<span class="cstat-no" title="statement not covered">        return alp | (bytes32(bytes2(curPeriod)) &gt;&gt; (8 + 32 + 16));</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered">    function writeBeneficiary(bytes32 alp, address beneficiary)</span>
        public
        pure
        returns (bytes32)
    {
<span class="cstat-no" title="statement not covered">        alp &amp;= 0xFFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000</span>;
<span class="cstat-no" title="statement not covered">        return alp | (bytes32(bytes20(beneficiary)) &gt;&gt; (8 + 32 + 16 + 16 + 24));</span>
    }
&nbsp;
    // NO DATA-SPECIFIC WRITING NEEDS TO HAPPEN IN BETA SLOT
&nbsp;
    /* ###################
     *    Generic Reads + Writes
     * ################### */
&nbsp;
    function fillBondFromAlpha(bytes32 alp, Bond memory b)
        public
        pure
        returns (Bond memory)
    {
        (, b.flag) = readFormatAndFlag(alp);
        b.couponSize = readCouponSize(alp);
        (b.nPeriods, b.curPeriod) = readPeriodData(alp);
        b.currencyRef = readCurrency(alp);
        b.beneficiary = readBeneficiary(alp);
        return b;
    }
&nbsp;
    function fillBondFromBeta(bytes32 bet, Bond memory b)
        public
        pure
        returns (Bond memory)
    {
        b.faceValue = readFaceValue(bet);
        b.startTime = readStartTime(bet);
        b.periodDuration = readPeriodDuration(bet);
        b.minter = readMinter(bet);
        return b;
    }
&nbsp;
    /**
     * @notice Read full bond from given alpha and beta parts
     * @param alp Alpha part of the bond data
     * @param bet Beta part of the bond data
     */
    function readBond(bytes32 alp, bytes32 bet)
        public
        pure
        returns (Bond memory b)
    {
        b = fillBondFromAlpha(alp, b);
        b = fillBondFromBeta(bet, b);
    }
&nbsp;
    /**
     * @notice Build bond alpha bytes from parts
     * @param flag Boolean describing if bond is defaulted
     * (usually starts as false)
     * @param couponSize Amount to pay each period
     * @param nPeriods Number of periods until completion
     * @param curPeriod Current period of the bond (usually
     * starts at 0)
     * @param currencyRef Id of currency to expect payments
     * to be made in
     * @param beneficiary Account address of recipient of all
     * payments
     * @return alp Alpha bytes32 used to represent the first
     * part of the bond
     * @dev Note that setting curPeriod to something greater
     * than nPeriods means bond will be immediately interpreted
     * as 'completed'.
     * @dev Some fields may be encoded with smaller resolution
     * than may be apparent to decrease storage space -- these
     * include: couponSize
     */
    function buildAlpha(
        bool flag,
        uint256 couponSize,
        uint16 nPeriods,
        uint16 curPeriod,
        uint32 currencyRef,
        address beneficiary
    ) public pure returns (bytes32 alp) {
        uint8 flagNFormat = flag ? 1 : 0;
&nbsp;
        uint32 couponSizeMult = 0;
        uint32 couponSizeEnc = uint32(couponSize);
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponSize &gt; 2**30) {
<span class="cstat-no" title="statement not covered">            couponSizeMult = 1</span>;
<span class="cstat-no" title="statement not covered">            couponSizeEnc = uint32(couponSize / 1 gwei)</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponSize &gt; 1 gwei * 2**30) {
<span class="cstat-no" title="statement not covered">            couponSizeMult = 2</span>;
<span class="cstat-no" title="statement not covered">            couponSizeEnc = uint32(couponSize / (1 ether / 1000))</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (couponSize &gt; (1 ether * 2**30) / 1000) {
<span class="cstat-no" title="statement not covered">            couponSizeMult = 3</span>;
<span class="cstat-no" title="statement not covered">            couponSizeEnc = uint32(couponSize / 1 ether)</span>;
        }
        <span class="missing-if-branch" title="else path not taken">E</span>require(
            couponSizeEnc &lt; 2**30,
            "LBondManager: couponSize too large to encode"
        );
        couponSizeEnc = (couponSizeEnc) | (couponSizeMult &lt;&lt; 30);
&nbsp;
        <span class="missing-if-branch" title="else path not taken">E</span>require(
            currencyRef &lt; 2**24,
            "LBondManager: currencyRef too large to encode"
        );
        uint24 currencyRefEnc = uint24(currencyRef);
&nbsp;
        return
            bytes32(
                abi.encodePacked(
                    flagNFormat,
                    couponSizeEnc,
                    nPeriods,
                    curPeriod,
                    currencyRefEnc,
                    beneficiary
                )
            );
    }
&nbsp;
    /**
     * @notice BUild bond beta bytes from parts
     * @param faceValue Amount to pay at end of bond
     * @param startTime Time this bond begins at, in
     * seconds since 1970
     * @param periodDuration How long between each period of
     * the bond, in seconds
     * @param minter Account address of the bond creator
     * @dev Some fields may be encoded with smaller resolution
     * than may be apparent to decrease storage space -- these
     * include: faceValue and periodDuration
     */
    function buildBeta(
        uint256 faceValue,
        uint64 startTime,
        uint64 periodDuration,
        address minter
    ) public pure returns (bytes32 bet) {
        uint32 faceValueMult = 0;
        uint32 faceValueEnc = uint32(faceValue);
        <span class="missing-if-branch" title="if path not taken">I</span>if (faceValue &gt; 2**30) {
<span class="cstat-no" title="statement not covered">            faceValueMult = 1</span>;
<span class="cstat-no" title="statement not covered">            faceValueEnc = uint32(faceValue / 1 gwei)</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (faceValue &gt; 1 gwei * 2**30) {
<span class="cstat-no" title="statement not covered">            faceValueMult = 2</span>;
<span class="cstat-no" title="statement not covered">            faceValueEnc = uint32(faceValue / (1 ether / 1000))</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (faceValue &gt; (1 ether * 2**30) / 1000) {
<span class="cstat-no" title="statement not covered">            faceValueMult = 3</span>;
<span class="cstat-no" title="statement not covered">            faceValueEnc = uint32(faceValue / 1 ether)</span>;
        }
        <span class="missing-if-branch" title="else path not taken">E</span>require(
            faceValueEnc &lt; 2**30,
            "LBondManager: faceValue too large to encode"
        );
        faceValueEnc = (faceValueEnc) | (faceValueMult &lt;&lt; 30);
&nbsp;
        uint48 startTimeEnc = uint48(startTime);
        <span class="missing-if-branch" title="else path not taken">E</span>require(
            startTime &lt; 2**48,
            "LBondManager: startTime too large to encode"
        );
&nbsp;
        uint16 periodDurationMult = 0;
        uint16 periodDurationEnc = uint16(periodDuration);
        <span class="missing-if-branch" title="if path not taken">I</span>if (periodDuration &gt; 2**14) {
<span class="cstat-no" title="statement not covered">            periodDurationMult = 1</span>;
<span class="cstat-no" title="statement not covered">            periodDurationEnc = uint16(periodDuration / 60)</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (periodDuration &gt; 60 * 2**14) {
<span class="cstat-no" title="statement not covered">            periodDurationMult = 2</span>;
<span class="cstat-no" title="statement not covered">            periodDurationEnc = uint16(periodDuration / (60 * 60))</span>;
        }
        <span class="missing-if-branch" title="if path not taken">I</span>if (periodDuration &gt; 60 * 60 * 2**14) {
<span class="cstat-no" title="statement not covered">            periodDurationMult = 3</span>;
<span class="cstat-no" title="statement not covered">            periodDurationEnc = uint16(periodDuration / (60 * 60 * 24))</span>;
        }
        <span class="missing-if-branch" title="else path not taken">E</span>require(
            periodDurationEnc &lt; 2**14,
            "LBondManager: periodDuration too large to encode"
        );
        periodDurationEnc = (periodDurationEnc) | (periodDurationMult &lt;&lt; 14);
&nbsp;
        return
            bytes32(
                abi.encodePacked(
                    faceValueEnc,
                    startTimeEnc,
                    periodDurationEnc,
                    minter
                )
            );
    }
&nbsp;
<span class="fstat-no" title="function not covered">    function buildBondBytes(Bond calldata b)</span>
        external
        pure
        returns (bytes32 alp, bytes32 bet)
    {
<span class="cstat-no" title="statement not covered">        alp = buildAlpha(</span>
            b.flag,
            b.couponSize,
            b.nPeriods,
            b.curPeriod,
            b.currencyRef,
            b.beneficiary
        );
<span class="cstat-no" title="statement not covered">        bet = buildBeta(b.faceValue, b.startTime, b.periodDuration, b.minter)</span>;
    }
}
&nbsp;</pre></td></tr>
</tbody></table></pre>
<div class="push"></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class="footer quiet pad2 space-top1 center small">
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Jul 15 2022 16:09:45 GMT+0000 (Coordinated Universal Time)
</div>

<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>


</body></html>